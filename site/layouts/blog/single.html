{{ define "main" }}

  <div class="mw7 center ph3 pv4">
    <h1 class="f2 lh-title b mb3" style="color: var(--circuit-blue);">{{.Title}}</h1>
    <div class="flex justify-between grey-3 mb3">
      <div>
        <p>{{ .Date.Format "Mon, Jan 2, 2006" }}</p>
        {{ with .Params.author }}<p class="ma0 f6">By {{ . }}</p>{{ end }}
      </div>
      <p>Read in {{ .ReadingTime }} minutes</p>
    </div>
    {{ with .Params.tags }}
    <div class="mb3">
      {{ range . }}
      <a href="{{ "/tags/" | relURL }}{{ . | urlize }}" class="dib mr2 mb2 pa2 br2 link" style="background: rgba(0, 174, 239, 0.1); color: var(--circuit-blue); font-size: 0.875rem;">
        #{{ . }}
      </a>
      {{ end }}
    </div>
    {{ end }}
    <div class="markdown-content mw7">
      <div>{{ .Description | markdownify }}</div>
      {{ with .Params.image }}<img src="{{ . }}" alt="{{ if $.Params.image_alt }}{{ $.Params.image_alt }}{{ else }}{{ $.Title }}{{ end }}" class="mb3" />{{ end }}
      
      {{ if .TableOfContents }}
      <div class="toc-container mb4">
        <h3 class="f4 lh-title b mb3" style="color: var(--circuit-blue);">Table of Contents</h3>
        <div class="toc-content">
          {{ .TableOfContents }}
        </div>
      </div>
      {{ end }}
      
      {{ .Content }}
    </div>
    
    <!-- Return to top button -->
    <button id="return-to-top" class="return-to-top" aria-label="Return to table of contents">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>
{{ end }}
